  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centered Chessboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="chessboard.css">
  </head>
  <body>
    <h1 align="center" style="margin-bottom: -50px;">CHESSBOARD GAME</h1>
    <div class="container d-flex justify-content-center align-items-center vh-100">
      <div class="chessboard" id="chessboard">
        <div class="square black" data-piece="black-rook">&#9820;</div>
        <div class="square white" data-piece="black-knight">&#9822;</div>
        <div class="square black" data-piece="black-bishop">&#9821;</div>
        <div class="square white" data-piece="black-queen">&#9819;</div>
        <div class="square black" data-piece="black-king">&#9818;</div>
        <div class="square white" data-piece="black-bishop">&#9821;</div>
        <div class="square black" data-piece="black-knight">&#9822;</div>
        <div class="square white" data-piece="black-rook">&#9820;</div>

     
        <div class="square white" data-piece="black-pawn">&#9817;</div>
        <div class="square black" data-piece="black-pawn">&#9817;</div>
        <div class="square white" data-piece="black-pawn">&#9817;</div>
        <div class="square black" data-piece="black-pawn">&#9817;</div>
        <div class="square white" data-piece="black-pawn">&#9817;</div>
        <div class="square black" data-piece="black-pawn">&#9817;</div>
        <div class="square white" data-piece="black-pawn">&#9817;</div>
        <div class="square black" data-piece="black-pawn">&#9817;</div>

    
        <div class="square black"></div>
        <div class="square white"></div>
        <div class="square black"></div>
        <div class="square white"></div>
        <div class="square black"></div>
        <div class="square white"></div>
        <div class="square black"></div>
        <div class="square white"></div>

    
        <div class="square white"></div>
        <div class="square black"></div>
        <div class="square white"></div>
        <div class="square black"></div>
        <div class="square white"></div>
        <div class="square black"></div>
        <div class="square white"></div>
        <div class="square black"></div>

        <div class="square black"></div>
        <div class="square white"></div>
        <div class="square black"></div>
        <div class="square white"></div>
        <div class="square black"></div>
        <div class="square white"></div>
        <div class="square black"></div>
        <div class="square white"></div>

    
        <div class="square white"></div>
        <div class="square black"></div>
        <div class="square white"></div>
        <div class="square black"></div>
        <div class="square white"></div>
        <div class="square black"></div>
        <div class="square white"></div>
        <div class="square black"></div>

    
        <div class="square black" data-piece="white-pawn" style="color:white;">&#9817;</div>
        <div class="square white" data-piece="white-pawn" style="color:white;">&#9817;</div>
        <div class="square black" data-piece="white-pawn" style="color:white;">&#9817;</div>
        <div class="square white" data-piece="white-pawn" style="color:white;">&#9817;</div>
        <div class="square black" data-piece="white-pawn" style="color:white;">&#9817;</div>
        <div class="square white" data-piece="white-pawn" style="color:white;">&#9817;</div>
        <div class="square black" data-piece="white-pawn" style="color:white;">&#9817;</div>
        <div class="square white" data-piece="white-pawn" style="color:white;">&#9817;</div>

        <div class="square white" data-piece="white-rook"style="color:white;">&#9814;</div>
        <div class="square black" data-piece="white-knight"style="color:white;">&#9816;</div>
        <div class="square white" data-piece="white-bishop"style="color:white;">&#9815;</div>
        <div class="square black" data-piece="white-queen"style="color:white;">&#9813;</div>
        <div class="square white" data-piece="white-king"style="color:white;">&#9812;</div>
        <div class="square black" data-piece="white-bishop"style="color:white;">&#9815;</div>
        <div class="square white" data-piece="white-knight"style="color:white;">&#9816;</div>
        <div class="square black" data-piece="white-rook"style="color:white;">&#9814;</div>
      </div>
    </div>

    <script>
 let selectedSquare = null;
let selectedPiece = null;

document.querySelectorAll('.square').forEach(square => {
  square.addEventListener('click', function () {
    if (selectedSquare) {
      
      const validMoves = getValidMoves(selectedSquare, selectedPiece);
      if (validMoves.includes(this)) {
        movePiece(this); 
      }
      selectedSquare = null;
      selectedPiece = null;
      clearHighlights(); 
    } else if (this.getAttribute('data-piece')) {
      
      selectedSquare = this;
      selectedPiece = this.getAttribute('data-piece');
      highlightValidMoves(selectedSquare, selectedPiece); 
    }
  });
});


function highlightValidMoves(square, piece) {
  const validMoves = getValidMoves(square, piece);
  validMoves.forEach(move => {
    move.classList.add('highlight');
  });
}


function getValidMoves(square, piece) {
  const pieceType = piece.split('-')[1];
  const validMoves = [];
  const board = Array.from(document.querySelectorAll('.square'));
  const squareIndex = board.indexOf(square);
  const row = Math.floor(squareIndex / 8);
  const col = squareIndex % 8;

  switch (pieceType) {
    case 'pawn':
      
      if (piece.startsWith('white')) {
        if (row > 0 && !board[squareIndex - 8].getAttribute('data-piece')) {
          validMoves.push(board[squareIndex - 8]);
        }
      } else {
        if (row < 7 && !board[squareIndex + 8].getAttribute('data-piece')) {
          validMoves.push(board[squareIndex + 8]);
        }
      }
      break;
    case 'rook':
  
      validMoves.push(...getLinearMoves(squareIndex, board, row, col, true, true));
      break;
    case 'knight':
    
      validMoves.push(...getKnightMoves(squareIndex, board, row, col));
      break;
    case 'bishop':
      validMoves.push(...getLinearMoves(squareIndex, board, row, col, false, true));
      break;
    case 'queen':
   
      validMoves.push(...getLinearMoves(squareIndex, board, row, col, true, true));
      break;
    case 'king':
      validMoves.push(...getKingMoves(squareIndex, board, row, col));
      break;
  }

  return validMoves;
}

function movePiece(targetSquare) {
  targetSquare.innerHTML = selectedSquare.innerHTML;
  targetSquare.setAttribute('data-piece', selectedSquare.getAttribute('data-piece'));
  selectedSquare.innerHTML = '';
  selectedSquare.removeAttribute('data-piece');
}


function clearHighlights() {
  document.querySelectorAll('.square').forEach(square => {
    square.classList.remove('highlight');
  });
}


function getLinearMoves(index, board, row, col, horizontal = true, diagonal = false) {
  const moves = [];
  const directions = [];

  if (horizontal) {
    
    directions.push([-1, 0], [1, 0], [0, -1], [0, 1]);
  }
  if (diagonal) {
    
    directions.push([-1, -1], [-1, 1], [1, -1], [1, 1]);
  }

  directions.forEach(direction => {
    let r = row;
    let c = col;
    while (true) {
      r += direction[0];
      c += direction[1];
      if (r < 0 || r > 7 || c < 0 || c > 7) break;
      const targetIndex = r * 8 + c;
      const targetSquare = board[targetIndex];
      if (targetSquare.getAttribute('data-piece')) break; 
      moves.push(targetSquare);
    }
  });

  return moves;
}

function getKnightMoves(index, board, row, col) {
  const moves = [];
  const knightMoves = [
    [-2, -1], [-2, 1], [-1, -2], [-1, 2], [1, -2], [1, 2], [2, -1], [2, 1]
  ];

  knightMoves.forEach(move => {
    const r = row + move[0];
    const c = col + move[1];
    if (r >= 0 && r <= 7 && c >= 0 && c <= 7) {
      const targetIndex = r * 8 + c;
      const targetSquare = board[targetIndex];
      if (!targetSquare.getAttribute('data-piece')) {
        moves.push(targetSquare);
      }
    }
  });

  return moves;
}


function getKingMoves(index, board, row, col) {
  const moves = [];
  const kingMoves = [
    [-1, 0], [1, 0], [0, -1], [0, 1],
    [-1, -1], [-1, 1], [1, -1], [1, 1]
  ];

  kingMoves.forEach(move => {
    const r = row + move[0];
    const c = col + move[1];
    if (r >= 0 && r <= 7 && c >= 0 && c <= 7) {
      const targetIndex = r * 8 + c;
      const targetSquare = board[targetIndex];
      if (!targetSquare.getAttribute('data-piece')) {
        moves.push(targetSquare);
      }
    }
  });

  return moves;
}

    </script>
  </body>
  </html>
